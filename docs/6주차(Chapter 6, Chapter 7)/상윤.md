### 값에 대해

함수형 프로그래밍을 할 때, 순수 함수를 활용해 외부의 상태를 바꾸지 않으면 부수 효과를 줄일 수 있다.

> 순수 함수란, 외부 상태를 변경하지도, 의존하지도 않는 않는 동일한 입력에 따라 동일한 출력을 반환하는 함수이다.

물론 무조건적으로 외부의 상태를 바꾸지 않는다는 잘못된 생각이다.

당연히 DOM 혹은 DB의 값을 다룰 때와 같이 외부의 상태를 바꿔야 하는 경우가 생긴다.

다만, 함수형 프로그래밍에서 외부 상태가 바뀌는 것은 로직의 결과가 되어야 하지, 로직의 그 중간에서 바뀌어지는 것은 부수 효과를 만들 가능성을 높인다.

그렇다면 어떻게 외부 상태를 변경하지 않고 값을 변경할 수 있을까?

직접 변경을 하지 않고 새로운 값을 내부에서 만들고 해당하는 새로운 값을 리턴하는 경우가 있다.

위 경우 해당하는 순수 함수는 기존의 값을 활용해 새로운 값을 만들어 내지만, 기존의 값은 바뀌지 않을 것이다.

그러나 기존의 값이 만약에 데이터가 생각보다 크다면 어떻게 될까?

이 경우 함수 내에서 새로운 값을 만들 때 내부의 모든 값을 새롭게 만든다면 메모리 사용량이 증가가 되어 크게 문제가 되겠지만, 함수가 기존의 값을 그대로 활용하며 변경되는 영역에서만 새로운 값을 만드는 방법을 사용한다면 크게 문제가 되지 않을 것이다.

##### immutable.js

`immutable.js`는 불변 객체 데이터 구조를 제공하는 라이브러리이다.

자바스크립트에는 불변 객체가 없다. 모든 객체는 자유롭게 변경되고 확장될 수 있다.
`immutable.js`는 위와 같은 단점을 줄이면서 코드의 동작을 보다 예측하기 쉽게 만들 수 있다 

`immutable.js`의 경우 다양한 메서드를 제공하며, 이 중에서 인상적인 부분은 중첩 구조의 데이터에 대해서 변경이 가능하다는 점이다.

다만, 이러한 중첩 구조의 객체는 기본 객체가 아닌 모두 커스텀 객체이기 때문에 JSON이 될 수 없다는 단점이 존재한다.

고로 애플리케이션에 활용될 경우, 해당  커스텀 객체 -> 기본 객체, 혹은 기본 객체 -> 커스텀 객체 로 변환되어야 하는 로직의 흐름이 길어지는 단점 또한 함께 존재함을 알 수 있다.

### 실전에서 함수형 자바스크립트 더 많이 사용하기

`Promise`객체는 일급 객체라서, 제어구조 활용, 변수나 함수의 인자, 그리고 `.then()`메서드를 활용해 결과 값을 볼 수 있다.

비동기를 수행할 경우, `Promise` 실행 순서가 일관적이지 않다는 문제점이 있다.
이와 같은 상황에서, 각각의 상황을 제어하는 함수를 곁들여 함수형 프로그래밍을 통한 제어가 가능해진다.

예시로,
- 순서대로 하나씩 실행해서 제어
- 실행한 이후에 결과를 담아서 제어
- `true`/`false`와 같은 `boolean`을 활용해 상황 제어
- `loop`/`break`를 통한 직접 제어

>나도 책의 저자와 같이 위와 같은 상황을 올바르게 이해하려고 노력하며, 불필요한 상황을 만들지 않고 올바른 로직을 가진 꼭 필요한 함수들을 만들고 활용하고 싶다.

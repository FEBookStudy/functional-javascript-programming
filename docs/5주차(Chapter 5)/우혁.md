### 네임 스페이스

`_` 를 네임 스페이스로 사용하는 함수형 자바스크립트 라이브러리가 많다.

Partial.js는 다른 함수형 자바스크립트 라이브러리와 함께 사용할 수 있는 방법을 제공한다.

```jsx
<script src="partial.js"></script>
<script src="lodash.js"></script>
<script>window.p = _p;</script>
```

1. Partial.js 로딩

```jsx
let _ = // Partial.js 함수들
let _p = _; // Partial.js 함수들을 _p에 백업
```

1. lodash.js 로딩

```jsx
let _ = // 전역 _가 lodash의 함수들로 덮어씌워짐
```

1. window.p = \_p 실행

```jsx
window.p = _p; // 백업해둔 Partial.js 함수들을 p라는 이름으로 사용할 수 있게함
```

이제 `p.each` 는 Partial.js의 each이고, `_.each` 는 Lodash의 each가 되어 두 함수형 라이브러리를 같이 사용할 수 있게된다.

### 동기, 비동기

동기와 비동기 상황을 동시에 대응하는 함수를 쉽게 만드려면 해당 함수의 로직을 `_.go` 나 `_.pipe` 로 구현해 두는 것이다.

그러면 자동으로 동기, 비동기 상황에 맞춰 로직을 알아서 변경시키기 때문에 추가적인 다른 작업을 하지 않아도 된다.

이미 함수를 일렬로 나열해 둔 상황이므로 파이프라인을 동해 내부적으로 비동기 상황을 대신해서 제어해줄 수 있다.

```jsx
_.go(
  1,
  add(2), // 동기
  asyncAdd, // 비동기
  multiply, // 동기
  console.log // 최종 결과
);
```

- 파이프라인 내에서 동기, 비동기 함수가 섞여있어도 자동으로 처리
- Promise가 반환되면 자동으로 비동기 처리로 전환
- 개발자가 동기, 비동기 여부를 신경 쓸 필요가 없음
- 함수를 순차적으로 나열하여 실행 흐름을 명확하게 표현
- 비동기 처리를 위한 추가적인 콜백이나 then 체인이 필요없음

### 지연 평가

지연 평가의 세 가지 기준

- 데이터가 많을 때
- 앞쪽 함수가 무거운 함수일 때
- 뒤쪽으로 갈수록 필요한 재료가 적을 때(완성하는 데 필요한 재료가 적을 때)

이러한 조건들을 충족할 경우 다른 무언가를 희생해서라도 지연 평가를 하는 것이 유의미한 성능 향상을 가져올 수 있다.(2번은 지연 평가의 조건이자 대상이며, 지연 평가의 단위는 순수 함수여야 한다)

### 느낀점

함수형 라이브러리에 굉장히 많은 함수들이 있기 때문에 Promise를 다룰 때는 ~~한 함수들이 있고 ~~ 이렇게 사용하면 된다 이런 느낌인 것 같아서 직접 함수형 라이브러리를 사용 때 이 책을 읽으면 지금보다는 더 도움이 될 수 있을 것 같다.(조금 더 친절하고 자세한 함수형 라이브러리 공식 문서 같은 느낌..?)
